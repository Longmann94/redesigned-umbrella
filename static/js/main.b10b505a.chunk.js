(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{28:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r(4),a=r(13),i=r.n(a),s=r(12),o=r.n(s),u=r(14),j=r(9),b=r(8),d=(r(23),r(26),r(15)),h=r(16);b.a.initializeApp({apiKey:"AIzaSyCXdl3wgGBTHLy8FbR_IiGUsfSimWYTZw4",authDomain:"fir-chatroom-99b54.firebaseapp.com",databaseURL:"https://fir-chatroom-99b54.firebaseio.com",projectId:"fir-chatroom-99b54",storageBucket:"fir-chatroom-99b54.appspot.com",messagingSenderId:"232210812571",appId:"1:232210812571:web:c46ef1967fcfbdfe61403e",measurementId:"G-CQ6Z53H2H2"});var p=b.a.auth(),l=b.a.firestore();var f=function(){var e=Object(d.a)(p),t=Object(j.a)(e,1)[0];function r(){return Object(n.jsx)("button",{onClick:function(){var e=new b.a.auth.GoogleAuthProvider;p.signInWithPopup(e)},children:"Sign in with Google"})}function a(){return p.currentUser&&Object(n.jsx)("button",{onClick:function(){return p.signOut()},children:"Sign Out"})}function i(e){var t=e.message,r=t.text,c=t.uid,a=t.photoURL,i=c===p.currentUser.uid?"sent":"received";return Object(n.jsxs)("div",{className:"message ".concat(i),children:[Object(n.jsx)("img",{src:a,alt:""}),Object(n.jsx)("p",{children:r})]})}function s(){var e=Object(c.useRef)(),t=l.collection("messages"),r=t.orderBy("createdAt"),s=Object(h.a)(r,{idField:"id"}),d=Object(j.a)(s,1)[0],f=Object(c.useState)(""),m=Object(j.a)(f,2),O=m[0],x=m[1],v=function(){var r=Object(u.a)(o.a.mark((function r(n){var c,a,i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),c=p.currentUser,a=c.uid,i=c.photoURL,r.next=4,t.add({text:O,createdAt:b.a.firestore.FieldValue.serverTimestamp(),uid:a,photoURL:i});case 4:x(""),console.log([d]),e.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[d&&d.map((function(e){return Object(n.jsx)(i,{message:e},e.id)})),Object(n.jsx)("div",{ref:e,children:" "})]}),Object(n.jsxs)("form",{onSubmit:v,children:[Object(n.jsx)("input",{value:O,onChange:function(e){return x(e.target.value)}}),Object(n.jsx)("button",{type:"submit",children:"send"})]}),Object(n.jsx)(a,{})]})}return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{}),Object(n.jsx)("section",{children:t?Object(n.jsx)(s,{}):Object(n.jsx)(r,{})})]})};i.a.render(Object(n.jsx)(f,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.b10b505a.chunk.js.map